var promoSliderItems,promoSliderControls,promoSliderPrevious,promoSliderNext,promoSliderCurrentNumber,promoSliderNewNumber,servicesSliderItems,servicesSliderButtons,servicesSliderCurrentNumber,servicesSliderNewNumber,contactsMap,modalMap,modalMapClose,contactsWrite,modalWrite,modalWriteClose,modalWriteSend,modalWriteName,modalWriteForm,modalWriteEmail,modalWriteText,buyButtons,buyMessage,buttonShopping,buyMessageClose,pageType=document.querySelector(".page-body");pageType.classList.contains("page-index")&&(promoSliderItems=document.querySelectorAll(".slide-item"),promoSliderControls=document.querySelectorAll(".slide-control"),promoSliderPrevious=document.querySelector(".shift-left"),promoSliderNext=document.querySelector(".shift-right"),promoSliderNewNumber=promoSliderCurrentNumber=0,servicesSliderItems=document.querySelectorAll(".services-slide-item"),servicesSliderButtons=document.querySelectorAll(".services-slider-button"),servicesSliderNewNumber=servicesSliderCurrentNumber=0,contactsMap=document.querySelector(".contacts-map"),modalMapClose=(modalMap=document.querySelector(".big-map-popup")).querySelector(".big-map-close"),contactsWrite=document.querySelector(".button-contacts"),modalWriteClose=(modalWrite=document.querySelector(".write-us")).querySelector(".write-us-close"),modalWriteSend=modalWrite.querySelector(".write-us-send"),modalWriteName=modalWrite.querySelector(".write-us-name"),modalWriteForm=modalWrite.querySelector(".write-us-form"),modalWriteEmail=modalWrite.querySelector(".write-us-mail"),modalWriteText=modalWrite.querySelector(".write-us-text")),pageType.classList.contains("page-catalog")&&(buyButtons=document.querySelectorAll(".button-buy"),buttonShopping=(buyMessage=document.querySelector(".adding-goods")).querySelector(".button-shopping"),buyMessageClose=buyMessage.querySelector(".adding-goods-close"));var isStorageSupport=!0,storageName="",storageMail="";try{storageName=localStorage.getItem("name")}catch(e){isStorageSupport=!1}if(pageType.classList.contains("page-index")){for(var promoSliderShift=function(e,r){promoSliderItems[e].classList.contains("hide")&&(promoSliderItems[e].classList.remove("hide"),promoSliderItems[r].classList.add("hide"),promoSliderControls[e].classList.add("current-slide"),promoSliderControls[r].classList.remove("current-slide"),promoSliderCurrentNumber=e)},j=0;j<promoSliderControls.length;j++)promoSliderControls[j].classList.contains("current-slide")&&(promoSliderCurrentNumber=j);promoSliderPrevious.addEventListener("click",function(e){e.preventDefault(),(promoSliderNewNumber=promoSliderCurrentNumber-1)<0&&(promoSliderNewNumber+=promoSliderItems.length),promoSliderShift(promoSliderNewNumber,promoSliderCurrentNumber)}),promoSliderNext.addEventListener("click",function(e){e.preventDefault(),(promoSliderNewNumber=promoSliderCurrentNumber+1)>=promoSliderItems.length&&(promoSliderNewNumber-=promoSliderItems.length),promoSliderShift(promoSliderNewNumber,promoSliderCurrentNumber)}),promoSliderControls[0].addEventListener("click",function(e){e.preventDefault(),promoSliderItems[0].classList.contains("hide")&&promoSliderShift(promoSliderNewNumber=0,promoSliderCurrentNumber)}),promoSliderControls[1].addEventListener("click",function(e){e.preventDefault(),promoSliderItems[1].classList.contains("hide")&&promoSliderShift(promoSliderNewNumber=1,promoSliderCurrentNumber)});var servicesSliderShift=function(e,r){servicesSliderItems[e].classList.contains("hide")&&(servicesSliderItems[e].classList.remove("hide"),servicesSliderItems[r].classList.add("hide"),servicesSliderButtons[e].classList.add("services-slide-active"),servicesSliderButtons[r].classList.remove("services-slide-active"),servicesSliderCurrentNumber=e)};servicesSliderButtons[0].addEventListener("click",function(e){e.preventDefault(),servicesSliderItems[0].classList.contains("hide")&&servicesSliderShift(servicesSliderNewNumber=0,servicesSliderCurrentNumber)}),servicesSliderButtons[1].addEventListener("click",function(e){e.preventDefault(),servicesSliderItems[1].classList.contains("hide")&&servicesSliderShift(servicesSliderNewNumber=1,servicesSliderCurrentNumber)}),servicesSliderButtons[2].addEventListener("click",function(e){e.preventDefault(),servicesSliderItems[2].classList.contains("hide")&&servicesSliderShift(servicesSliderNewNumber=2,servicesSliderCurrentNumber)}),contactsMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.contains("hide")&&modalMap.classList.remove("hide")}),modalMapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("hide")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalMap.classList.add("hide"))}),isStorageSupport&&(storageMail=localStorage.getItem("email")),contactsWrite.addEventListener("click",function(e){e.preventDefault(),modalWrite.classList.contains("hide")&&(modalWrite.classList.remove("hide"),modalWrite.classList.add("modal-show"),storageName?(modalWriteName.value=storageName,storageMail?(modalWriteEmail.value=storageMail,modalWriteText.focus()):modalWriteEmail.focus()):modalWriteName.focus())}),modalWriteClose.addEventListener("click",function(e){e.preventDefault(),modalWrite.classList.add("hide"),modalWrite.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),modalWrite.classList.add("hide"),modalWrite.classList.remove("modal-error"))}),modalWriteForm.addEventListener("submit",function(e){modalWriteName.value&&modalWriteEmail.value&&modalWriteText.value?isStorageSupport&&(localStorage.setItem("name",modalWriteName.value),localStorage.setItem("email",modalWriteEmail.value)):(e.preventDefault(),modalWrite.classList.remove("modal-error"),modalWrite.offsetWidth,modalWrite.classList.add("modal-error"))})}pageType.classList.contains("page-catalog")&&(buyButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),buyMessage.classList.contains("hide")&&buyMessage.classList.remove("hide")})}),buttonShopping.addEventListener("click",function(e){e.preventDefault(),buyMessage.classList.add("hide")}),buyMessageClose.addEventListener("click",function(e){e.preventDefault(),buyMessage.classList.add("hide")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),buyMessage.classList.add("hide"))}));